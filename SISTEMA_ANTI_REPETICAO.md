# 🎮 Sistema Anti-Repetição de Palavras - Adivinhe Já!\n\n## ✨ **NOVA FUNCIONALIDADE IMPLEMENTADA**\n\nImplementamos um **sistema inteligente anti-repetição** que previne palavras duplicadas e **exibe avisos visuais** quando as palavras começam a se repetir durante o jogo!\n\n---\n\n## 🔧 **Como Funciona**\n\n### **1. Gerenciamento de Palavras Recentes** \n- **Cooldown de 2 horas**: Palavras ficam \"bloqueadas\" por 2 horas após serem usadas\n- **Rastreamento por sessão**: Cada jogo é uma sessão separada com ID único\n- **Persistência local**: Funciona offline via localStorage \n- **Limpeza automática**: Remove dados expirados automaticamente\n\n### **2. Sistema de Avisos Visuais** 🚨\nDurante o jogo, aparece um **aviso na parte superior da tela** quando:\n\n#### **🟡 Nível Moderado (30% palavras bloqueadas)**\n- **Mensagem**: \"As palavras podem começar a se repetir em breve. Que tal tentar outra categoria?\"\n- **Cor**: Amarelo/Laranja\n- **Ação**: Sugestão suave\n\n#### **🟠 Nível Alto (15% palavras disponíveis)**\n- **Mensagem**: \"Poucas palavras novas restantes. Considere trocar de categoria ou dificuldade.\"\n- **Cor**: Laranja\n- **Ação**: Recomendação forte\n\n#### **🔴 Nível Crítico (5% palavras disponíveis)**\n- **Mensagem**: \"Quase todas as palavras foram usadas recentemente! Troque de categoria para evitar repetições.\"\n- **Cor**: Vermelho com animação de pulse\n- **Ação**: Urgente\n\n### **3. Características do Aviso**\n- 📍 **Posição**: Topo da tela, não interfere no jogo\n- 📊 **Barra de progresso**: Mostra % de palavras disponíveis  \n- 🔄 **Botão \"Trocar Categoria\"**: Reinicia o jogo imediatamente\n- ❌ **Botão \"Continuar Assim\"**: Fecha o aviso\n- ⏰ **Verificação automática**: Monitora a cada 30 segundos + após cada palavra\n\n---\n\n## 🎯 **Arquivos Modificados/Criados**\n\n### **📁 Novos Arquivos:**\n- `services/recentWordsManager.ts` - Gerenciador principal \n- `components/WordRepetitionWarning.tsx` - Componente de aviso\n- `components/RecentWordsDebug.tsx` - Interface de debug (atualizada)\n\n### **🔧 Arquivos Modificados:**\n- `services/wordService.ts` - Integração com o gerenciador\n- `services/LocalCacheService.ts` - Filtragem no cache\n- `App.tsx` - Controle de sessões e exibição de avisos\n- `index.css` - Animações para os avisos\n\n---\n\n## 🛠️ **Para Desenvolvedores**\n\n### **Configurações Ajustáveis:**\n```typescript\n// Em recentWordsManager.ts\nCOOLDOWN_HOURS: 2,           // Tempo de bloqueio (horas)\nMAX_RECENT_WORDS: 200,       // Máximo de palavras no histórico  \nMAX_SESSIONS: 10,            // Máximo de sessões salvas\n```\n\n### **Verificação Manual:**\n```typescript\n// Verificar status de saúde das palavras\nimport { checkWordsHealthStatus } from './services/wordService';\n\nconst status = checkWordsHealthStatus(['animais'], 'facil', 150);\nconsole.log(`Saúde: ${status.healthPercentage}% | Risco: ${status.riskLevel}`);\n```\n\n### **Debug em Tempo Real:**\n1. Acesse **DatabasePopulator** (através do modal de senha)\n2. Clique no botão **\"📊 Debug\"** \n3. Monitor todas as estatísticas em tempo real\n4. Use **\"📊 Testar Status de Saúde\"** para simular situações\n\n---\n\n## 🧪 **Como Testar**\n\n### **Teste Rápido:**\n1. **Jogue normalmente** - note que não há repetições imediatas\n2. **Jogue várias partidas** na mesma categoria/dificuldade\n3. **Observe os avisos** aparecerem gradualmente\n4. **Use o debug** para monitorar em tempo real\n\n### **Teste de Estresse:**\n1. Jogue **5-10 partidas consecutivas** na mesma categoria\n2. Observe a **progressão dos avisos** (moderado → alto → crítico)\n3. Use **\"Trocar Categoria\"** para resolver instantaneamente\n4. Confirme que **outras categorias** não têm o problema\n\n---\n\n## 📊 **Estatísticas Disponíveis**\n\nO sistema coleta:\n- ✅ **Total de palavras recentes** bloqueadas\n- 📅 **Sessões ativas/históricas** com timestamps\n- 🎯 **Palavras por categoria/dificuldade** usadas\n- ⏱️ **Tempo de uso** de cada palavra\n- 🧹 **Limpeza automática** de dados expirados\n\n---\n\n## 🎮 **Experiência do Usuário**\n\n### **✅ Vantagens:**\n- **Zero repetições** em jogos consecutivos\n- **Avisos proativos** antes do problema aparecer\n- **Solução instantânea** com um clique\n- **Funciona offline** via localStorage\n- **Performance mantida** - sistema otimizado\n\n### **🔄 Fluxo de Uso:**\n1. **Usuário joga normalmente** → Sistema monitora em background\n2. **Palavras começam a esgotar** → Aviso aparece no topo\n3. **Usuário vê sugestão** → Pode trocar categoria ou continuar  \n4. **Problema resolvido** → Jogo continua sem repetições\n\n---\n\n## 🚀 **Próximos Passos Possíveis**\n\n- **🎲 Modo \"Shuffle Inteligente\"**: Mistura categorias automaticamente\n- **📈 Dashboard de estatísticas**: Visualização avançada de uso\n- **🔔 Notificações push**: Avisos quando categorias \"recarregarem\"\n- **⚙️ Configurações do usuário**: Ajuste do tempo de cooldown\n- **🤖 IA preditiva**: Sugestão automática de melhores categorias\n\n---\n\n**🎉 O sistema está 100% funcional e pronto para uso!**\n\nTeste jogando algumas partidas consecutivas na mesma categoria e veja os avisos aparecerem. Use o botão de debug para monitorar tudo em tempo real!\n